<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Modelling the impact of transport choices on population health.">
<title>Integrated Transport and Health Impact Model • ithimr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Integrated Transport and Health Impact Model">
<meta property="og:description" content="Modelling the impact of transport choices on population health.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">ithimr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/how-to-run-ITHIM.html">How to run ITHIM</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ITHIM/ITHIM-R/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<!-- badges: end -->
<div class="section level1">
<div class="page-header"><h1 id="ithim-r">ITHIM-R<a class="anchor" aria-label="anchor" href="#ithim-r"></a>
</h1></div>
<p>Development of the <strong>Integrated Transport and Health Impact Modelling Tool (ITHIM)</strong> in R, also known as ITHIM version 3.0. Started in January 2018. This document aims to be a comprehensive record of the calculations in the ITHIM pipeline, specifically the ITHIM- R package.</p>
<div class="section level2">
<h2 id="how-to-use-the-package">How to use the package<a class="anchor" aria-label="anchor" href="#how-to-use-the-package"></a>
</h2>
<p>We have written a <code>how-to</code> guide that explains how to install the ITHIM-R package, how to run the ITHIM-Global model using this package and how to produce summaries of the key results. Please read it here: <a href="https://ithim.github.io/ITHIM-R/articles/how-to-run-ITHIM.html">how to run ITHIM?</a>.</p>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<p>To cite package ‘ithimr’ in publications use:</p>
<blockquote>
<p>Ali Abbas, Anna Schroeder et al. (2023). ithimr: Integrated Transport and Health Impact Model. R package version 0.1.2.</p>
</blockquote>
<p>A BibTeX entry for LaTeX users is</p>
<blockquote>
<p>@Manual{, title = {ithimr: Integrated Transport and Health Impact Model}, author = {Ali Abbas and Anna Schroeder and Daniel Gil and Lambed Tatah and Rob Johnson}, year = {2023}, note = {R package version 0.1.2, <a href="https://github.com/ITHIM/ITHIM-R" class="external-link uri">https://github.com/ITHIM/ITHIM-R</a>}, url = {<a href="https://ithim.github.io/ITHIM-R/" class="uri">https://ithim.github.io/ITHIM-R/</a>}, }</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="outline">Outline<a class="anchor" aria-label="anchor" href="#outline"></a>
</h3>
<p>ITHIM performs integrated assessments of the health impacts of user-defined transport scenarios and policies at urban and national levels. The health impacts of transport policies are modelled through changes in physical activity, road traffic injury risk, exposure to fine particulate matter (PM2.5) air pollution. In addition, the model estimates changes in CO2 emissions. ITHIM is used by researchers and health and transport professionals to estimate the health impacts of scenarios, to compare the impacts of travel patterns in different locations, and to model the impacts of interventions. ITHIM works either as a stand-alone model or can be linked to other models (e.g. transport, health, economic) and is a quasi-microsimulation model where exposure is at the individual person level, while health impacts are estimated for aggregated age groups, constrained by available Global Burden Disease (GBD) data.</p>
<div class="section level4">
<h4 id="physical-activity">Physical Activity<a class="anchor" aria-label="anchor" href="#physical-activity"></a>
</h4>
<p>ITHIM models exposure to physical activity by comparing distributions of weekly physical activity under different scenarios. Walking, cycling and other types of physical activity are combined as marginal MET hours per week of activity. Outcomes affected by physical activity include several cardiovascular diseases, depression, dementia, diabetes, breast cancer and colon cancer. ITHIM also models changes in health through all-cause mortality. A comparative risk assessment method is used to estimate how changes in population physical activity lead to changes in health burden.</p>
</div>
<div class="section level4">
<h4 id="road-traffic-injuries">Road Traffic Injuries<a class="anchor" aria-label="anchor" href="#road-traffic-injuries"></a>
</h4>
<p>Road traffic injuries are modelled using a model based on risk, distance and speed. Differences in risk by sex and age are also taken into account. This approach allows ITHIM to look at how the absolute number of injuries and the risk of injury might change for different modes of transport as travel distances between modes change.</p>
</div>
<div class="section level4">
<h4 id="air-pollution">Air Pollution<a class="anchor" aria-label="anchor" href="#air-pollution"></a>
</h4>
<p>Fine particulate matter (PM2.5) air pollution risks are calculated for the general population (background rates) as well as travellers using mode specific rates for different transport modes. Inhalation rates and assumptions about time use are used to calculate PM2.5 dose across different travel and non-travel activities. Exposure changes for the population are based on a comparison of locally generated PM2.5 emissions and concentrations in the study area.</p>
</div>
<div class="section level4">
<h4 id="co2-emissions">CO2 Emissions<a class="anchor" aria-label="anchor" href="#co2-emissions"></a>
</h4>
<p>The carbon dioxide (CO2) pathway models carbon dioxide (CO2) emissions from motorised vehicles. The CO2 pathway estimates a single metric: the total CO2 emissions for each modelled scenario. The method to calculate CO2 emissions is similar to the one for PM2.5.</p>
</div>
<div class="section level4">
<h4 id="health-outcomes">Health Outcomes<a class="anchor" aria-label="anchor" href="#health-outcomes"></a>
</h4>
<p>The health impacts in ITHIM are presented as years of life lost (YLL) and number of attributable deaths seperately for each pathway, in addition to accounting for the interaction between physical activity and air pollution. Background mortality and YLL data for the study areas are estimated from <a href="https://www.healthdata.org/research-analysis/gbd" class="external-link">Global Burden of Disease studies</a>.</p>
<div class="float">
<img src="reference/figures/BigPicture_v3-7.svg" alt="Model Layout"><div class="figcaption">Model Layout</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="data-inputs">Data inputs<a class="anchor" aria-label="anchor" href="#data-inputs"></a>
</h3>
<p>ITHIM-R requires 5 user defined input files in csv format, saved in a directory with the city’s name. See <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota" class="external-link">inst/ext/local/bogota</a> for example files. There are also numerous assumptions which the user can parameterize in the model.</p>
<p>This section talks about all the files (datasets) required to setup and run the model. There are two subsections, which are:</p>
<ul>
<li><p>City-specific files (local input parameters/datasets).</p></li>
<li><p>Global files (global input parameters/datasets).</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="city-specific-files">City-specific files<a class="anchor" aria-label="anchor" href="#city-specific-files"></a>
</h3>
<p>This section covers file inputs (specific to a city) required to run the model.</p>
<ul>
<li>
<p><strong>Travel survey</strong> <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota/trips_bogota.csv" class="external-link">(example trips dataset)</a>. A table of all trips taken by a group of people on a given weekday. It also includes people who take no trips.</p>
<ul>
<li>One row per trip (or stage of trip).</li>
<li>Minimal columns: <code>participant_id</code>, <code>age</code>, <code>sex</code>, <code>trip_mode</code>, <code>trip_duration</code> (or <code>trip_distance</code>).</li>
<li>Other columns: <code>stage_mode</code>, <code>stage_duration</code> (or <code>stage_distance</code>).</li>
</ul>
</li>
<li>
<p><strong>Injury events</strong> <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota/injuries_bogota.csv" class="external-link">(example injuries dataset)</a>. A table of recorded road-traffic injury (fatality) events in a city in one or more years.</p>
<ul>
<li>One row per event.</li>
<li>Minimal columns: <strong>victim mode</strong> (<code>cas_mode</code>) and <strong>strike mode</strong> (<code>strike_mode</code>).</li>
<li>Other columns: <code>year</code>, <code>cas_age</code>, <code>cas_gender</code>, <code>weight</code> (e.g. multiple years combined).</li>
</ul>
</li>
<li>
<p><strong>Baseline mortality and years of life lost data</strong> <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota/gbd_bogota.csv" class="external-link">(example burden dataset)</a>.</p>
<ul>
<li>One row per health outcome/metric/age/gender combination.</li>
<li>Minimal rows: <code>Measure</code> (death/YLL); <code>sex_name</code> (Male/Female); <code>age_name</code> (‘x to y’); <code>cause_name</code> (cause of mortality or YLL); <code>val</code> (value of burden); <code>population</code> (number of people <code>val</code> corresponds to, e.g. population of country).</li>
</ul>
</li>
<li>
<p><strong>Population of city</strong> <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota/population_bogota.csv" class="external-link">(example population dataset)</a>. This is used in order to scale the baseline mortality and YLL data from the country’s values to the city’s population under study.</p>
<ul>
<li>One row per demographic group.</li>
<li>Columns: <code>sex</code>, <code>age</code>, <code>population</code>.</li>
<li>
<code>age</code> column should share boundaries with <code>age_name</code> in baseline mortality and YLL data, but can be more aggregated.</li>
</ul>
</li>
<li>
<p><strong>Physical activity survey</strong> <a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/local/bogota/pa_bogota.csv" class="external-link">(example physical activity dataset)</a></p>
<ul>
<li>One row per person.</li>
<li>Columns: <code>sex</code>, <code>age</code>, <code>ltpa_marg_met</code> (total non-occupational PA in a week).</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="global-files">Global files<a class="anchor" aria-label="anchor" href="#global-files"></a>
</h3>
<p>In order to setup the model, we need a fixed list of tables/datasets, which do not change across cities/ applied similarly to all cities and are hence referred to as “Global”, such as:</p>
<ul>
<li><p><a href="https://raw.githubusercontent.com/ITHIM/ITHIM-R/bogota/inst/extdata/global/dose_response/disease_outcomes_lookup.csv" class="external-link"><strong>Health outcome interaction table</strong></a>. A table with a list of health outcomes related to a specific pathway such as <code>Air Pollution</code> and <code>Physical Activity</code> and also the interaction between them.</p></li>
<li><p><a href="https://github.com/ITHIM/ITHIM-R/tree/bogota/inst/extdata/global/dose_response/drap/extdata" class="external-link"><strong>Air Pollution Exposure Response Functions (ERFs)</strong></a><strong>.</strong> These give the exposure-response relationships between air pollution (PM2.5) and its impact on health for different health outcomes. We have collected/cleaned datasets from published studies for this.</p></li>
<li><p><a href="https://meta-analyses.github.io/drpa/drpa.html" class="external-link"><strong>Physical Activity Dose-Response Functions (DRFs)</strong></a>. These are dose-response relationships of physical activity and its impact on health for different health outcomes. Similar to air pollution, this too comes from published studies. This now sits in an independent R package called <a href="https://github.com/meta-analyses/drpa/" class="external-link"><code>drpa</code></a>.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="how-to-run-the-model">How to run the model?<a class="anchor" aria-label="anchor" href="#how-to-run-the-model"></a>
</h2>
<p>For setup, reading all the required datasets and initialising all variables, we call <code><a href="reference/run_ithim_setup.html">run_ithim_setup()</a></code> and to run the model, we call <code><a href="reference/run_ithim.html">run_ithim()</a></code>. The function used to call both <code>run_ithim_setup</code> and <code>run_ithim</code> is the <code>multi_city_script</code> which also reads in the relevant input parameter files.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ITHIM/ITHIM-R/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ITHIM/ITHIM-R/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ithimr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ali Abbas <br><small class="roles"> Author, maintainer </small>  </li>
<li>Anna Schroeder <br><small class="roles"> Author </small>  </li>
<li>Daniel Gil <br><small class="roles"> Author </small>  </li>
<li>Lambed Tatah <br><small class="roles"> Author </small>  </li>
<li>Rob Johnson <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://zenodo.org/badge/latestdoi/117988409" class="external-link"><img src="https://zenodo.org/badge/117988409.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ali Abbas, Anna Schroeder, Daniel Gil, Lambed Tatah, Rob Johnson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
